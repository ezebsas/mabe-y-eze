<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Casamiento de Ezequiel y Mabel</title>
    <link rel="stylesheet" type="text/css" href="theme.css"> 
    <link rel="stylesheet" type="text/css" href="./icons/css/all.min.css"> 
    <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      /* Estilo para las barras de transición */
      .transition-bar {
        position: fixed;
        top: 0;
        width: 33.33%;
        height: 0; /* Inicialmente en 0 para el efecto de despliegue */
        background-color: #dee7e6; /* Color de fondo de las barras grises */
        z-index: 9996; /* Debajo de la introducción */
      }
      .bar1 { left: 0; }
      .bar2 { left: 33.33%; }
      .bar3 { left: 66.66%; }

      /* Estilo para las barras blancas */
      .white-bar {
        position: fixed;
        top: 0;
        width: 33.33%;
        height: 0; /* Inicialmente en 0 */
        background-color: white; /* Color de fondo blanco */
        z-index: 9995; /* Debajo de las barras grises */
      }
      .white-bg1 { left: 0; }
      .white-bg2 { left: 33.33%; }
      .white-bg3 { left: 66.66%; }

      /* Estilo para la introducción */
      .intro {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: url('./img/intro-image.jpg'); /* Cambia la ruta a tu imagen */
        background-color: #dee7e6; /* Color de fondo sólido */
        background-repeat: no-repeat; /* Evitar que la imagen se repita */
        background-size: cover; /* Cambiado a cover para cubrir toda la pantalla */
        background-position: center; /* Centrar la imagen */
        z-index: 9998; /* Asegúrate de que esté por encima de otros elementos */
      }

      /* Estilo para el contenido normal */
      .content {
        display: none; /* Ocultar el contenido normal inicialmente */
      }
    </style>
  </head>
  <body>
    <div class="white-bar white-bg1" id="whiteBar1"></div> <!-- Barra blanca 1 -->
    <div class="white-bar white-bg2" id="whiteBar2"></div> <!-- Barra blanca 2 -->
    <div class="white-bar white-bg3" id="whiteBar3"></div> <!-- Barra blanca 3 -->
    
    <div class="transition-bar bar1"></div>
    <div class="transition-bar bar2"></div>
    <div class="transition-bar bar3"></div>
    
    <div class="intro" id="intro"></div> <!-- Introducción con imagen -->
    <header class="header">
      <h1 class="heading">
        Eze y Mabe
        <span class="heading-subtext">8-3-2025</span>
      </h1>
    </header>
    <div class="content">
      <!-- Contenido normal de la página -->
      <section class="section">
        <h2 class="sub-heading">Resumen</h2>
        <p>Nos vamos a casar en la Asosiación italiana Montazzoli en el barrio de Loma Hermosa.</p>
      </section>
      <!-- ... resto del contenido ... -->
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script>
      // Animación de la introducción y las barras
      window.onload = function() {
        // Mostrar la introducción
        gsap.to("#intro", { duration: 1, opacity: 1 });

        // Esperar 5 segundos antes de iniciar la animación de las barras blancas
        setTimeout(() => {
          const whiteBars = [
            document.getElementById('whiteBar1'),
            document.getElementById('whiteBar2'),
            document.getElementById('whiteBar3')
          ];

          // Animar las barras blancas
          whiteBars.forEach((bar, index) => {
            gsap.to(bar, { duration: 0.5, height: "100%", delay: index * 0.5 }); // Crecer hacia abajo
          });

          // Esperar a que las barras blancas terminen de crecer
          setTimeout(() => {
            // Ocultar las barras blancas
            whiteBars.forEach((bar) => {
              gsap.to(bar, { duration: 0.5, height: "0%", delay: 0.5 }); // Colapsar hacia arriba
            });

            // Iniciar la animación de las barras grises después de que las barras blancas se oculten
            setTimeout(() => {
              const bars = document.querySelectorAll('.transition-bar');

              // Ocultar la introducción antes de la animación de las barras
              gsap.to("#intro", { duration: 0, display: 'none' }); // Ocultar la introducción

              // Desplegar las barras grises
              bars.forEach((bar, index) => {
                // Animar la barra gris
                gsap.to(bar, { duration: 0.5, height: "100%", stagger: 0.2, delay: index * 0.5 }); // Desplegar desde arriba

                // Colapsar la barra gris
                gsap.to(bar, { 
                  duration: 0.5, 
                  height: "0%", 
                  delay: (index + 1) * 0.5, // Decrecer después de que la barra haya crecido
                  onComplete: function() {
                    // Mostrar el contenido normal después de que todas las barras hayan terminado de colapsar
                    if (index === bars.length - 1) {
                      gsap.to(".content", { duration: 0, display: 'block' }); // Mostrar el contenido normal
                    }
                  }
                }); // Colapsar hacia arriba
              });
            }, 500); // Esperar a que las barras blancas se oculten
          }, 1500); // Esperar a que las barras blancas terminen de crecer
        }, 5000); // 5000 milisegundos = 5 segundos
      };
    </script>
  </body>
</html>
